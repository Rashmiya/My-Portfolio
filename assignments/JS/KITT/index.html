<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>JS Knight Rider</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <style>
        body{
            background-color: #000000;
        }
        h1 {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            top: 120px;
            color: red;
            font-size: 2.5em;
        }
        .mainBody{
            position: absolute;
            left: 0;
            right: 0;
            top: 0;
            bottom: 0;
            margin: auto;
            height: 80px;
            width: 1230px;
            overflow: hidden;

        }
        .mainArea{
            position: relative;
            height: 100%;
            width: 100%;
            display: flex;

        }
        .mainArea>div{
            width: 100%;
            background-size: cover;
            position: center;
            background-color:yellow;
        }
        .mainArea>div:nth-child(1){
            border-radius: 20px 0 0 20px;
        }
        .mainArea>div:nth-child(6){
            border-radius: 0 20px 20px 0;
        }
        #button-area{
            /*color: white;*/
            background-color:black;
           /* border: 2px solid red;*/
            width: 110px;
            height: 60px;
            position: relative;
            display: flex;
            top: 370px;
            left: 85px;
        }
        #button-area>#startButton, #button-area>#endButton{
            top: -34px;
            position: relative;
            left: -190%;
            font-size: 28px;
            color:white;
            border: 2px solid red;
            border-radius: 10px;

        }
        #button-area>#startButton{
            margin-right:20px;
        }


    </style>
</head>
<body>
<audio src="assets/audio/73.%20Oh%20Shala.mp3" id="audio"></audio>
<h1>JS knight Rider</h1>
<section class="mainBody">
    <div class="mainArea">

    </div>
</section>
<section class="container-fluid" id="button-area">
    <button type="button" class="btn " id="startButton">START</button>
    <button type="button" class="btn " id="endButton">STOP</button>
</section>
<script src="assets/bootstrap/js/bootstrap.min.js"></script>  <!--import the bootstrap-->
<script src="assets/js/jquery-3.6.1.min.js"></script>  <!--import the jQuery-->
<script>
    var knightRider = {
        count:0,
        temArray:[],
        leftColorArray: ['white', 'white', 'white', 'white', 'white', 'white','#F3A5A5', '#EB6D6D', '#CF6060','#A52525','#8B0B0B','#6A0101'],
        rightColorArray: ['white', 'white', 'white','white', 'white', 'white','#6A0101','#8B0B0B','#A52525','#CF6060', '#EB6D6D', '#F3A5A5'],
        animateLeft: function () {
            var lastColor = this.temArray.pop();
            this.temArray.unshift(lastColor);
        },
        animateRight:function (){
            var firstColor = this.temArray.shift();
            this.temArray.push(firstColor);
        },
        animate:function (){
            this.count++;
            if(this.count<=this.leftColorArray.length){
                this.temArray=this.leftColorArray;
                this.animateLeft();
            }else{
                if (this.count>=(this.rightColorArray.length*2)){
                    this.count=0;
                }
                this.temArray=this.rightColorArray;
                this.animateRight();

            }
        }
    }

   /* renderDivs();*/

    function renderDivs() {
        $('.mainArea').empty();
        for (let i = 0; i < (knightRider.temArray.length) / 2; i++) {
            $('.mainArea').append(`<div style="background-color: ${knightRider.temArray[i]}"></div>`);
        }
        knightRider.animate();
    }

    var timer;
    $('#startButton').click(function (){
        clearInterval(timer);
        timer= setInterval(renderDivs, 100);
    });
    $('#endButton').click(function (){
        clearInterval(timer);

    });

    var audio;
    audio = $("#audio")[0];
    $("#startButton").on("click", function(){
        audio.play();
    });

    $("#endButton").on("click", function(){
        audio.pause();
    })

</script>
</body>
</html>